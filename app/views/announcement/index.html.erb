<% provide(:title, 'Announcements Management') %>

<table>
	<tr>
		<th><button class="btn btn-primary" onclick="displayNoticeForm()" type="button">Add Announcement</button></th>
	</tr>
</table>
<br>
<table class="table table-stripped table-hover table-condensed">
	<thead>
		<tr>
			<th>Submitted Date</th>
			<th>Title</th>
		</tr>
	</thead>
	<tbody>
		<% unless @notices.blank? %>
			<% @notices.each do |notice| %> 
				<tr>
					<td><%= notice.created_at %></td>
					<td><%= notice.title %></td>

					<td>
						<button class="btn btn-small btn-info" onclick="displayNotice(<%= notice.id %>)" type="button">
							Edit Content
						</button>
					</td>
				</tr>
			<% end %>
		<% end %>
	</tbody>
</table>

<script type="text/javascript">
	//Show the announcement form
	function displayNoticeForm() {
  		var url = "/announcement/create";
  		$(location).attr('href', url);
	}

	//Show the announcement content
	function displayNotice(id) {
  		var url = "/announcement/edit?nid=" + id;
  		$(location).attr('href', url);
	}

</script>